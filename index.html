<html>
<head>
<title>KnoxelJS</title>

<link rel="stylesheet" type="text/css" href="/css/style.css">

</head>
<body>
<!--
* editor window, plus a game window
* maybe show/hide the editor window with a panel
* game window
-->

<ul class="tab">
    <li><a href="#code" class="tablinks active" id="codeTab" onclick="openTab('code')">Code</a></li>
    <li><a href="#game" class="tablinks" id="gameTab" onclick="openTab('game')">Game</a></li>
</ul>

<div id="game" class="tabcontent">
    <div id="gamediv" class="game">
    </div>
</div>

<div id="code" class="tabcontent">
    <div id="editor" class="editor">
    </div>
</div>

<!-- 
    <button onclick="gogo()" width="50" height="100"></button>
-->

<script>
function openTab(tabName) {
    let tabcontent = document.getElementsByClassName("tabcontent");
    for (let i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    let tablinks = document.getElementsByClassName("tablinks");
    for (let i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    //console.log(document.getElementById(tabName), tabName);
    document.getElementById(tabName).style.display = "block";
    document.getElementById(tabName+'Tab').className += " active";
    //evt.currentTarget.className += " active";
}
</script>


<!-- load code for the embedded ACE editor -->
<script src="./ace-builds/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="./ace-builds/src-min-noconflict/theme-twilight.js" type="text/javascript" charset="utf-8"></script>
<script src="knoxel-bundle.js"></script>

<script>
    // setup the ACE editor
    let editor = ace.edit("editor");
    editor.setTheme("ace/theme/twilight");
    editor.getSession().setMode("ace/mode/javascript");
    editor.setAutoScrollEditorIntoView(true);
    //console.log(document.body);
    // attach the game object to the game div
    //console.log(document.getElementById("game"));
    knoxel.game.appendTo(document.getElementById("gamediv"));
    
    window.onload = function() {
        console.log("onload starting");
        openTab('code');
        console.log('onload done');
    };
</script>

</body>
</html>